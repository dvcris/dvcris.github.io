(this["webpackJsonpnetflix-project"]=this["webpackJsonpnetflix-project"]||[]).push([[2],{21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a.n(r),o=a(6),i=(a(21),function(e){var t=e.image,a=e.children,n="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_IMAGES_RESOURCE).concat(t)||"https://random.imagecdn.app/720/480";return c.a.createElement("div",{className:"bg"},c.a.createElement("img",{alt:"Play now",className:"bg__image",src:n}),c.a.createElement("div",{className:"bg__content"},a))}),l=a(4),s=(a(22),function(e){var t=e.icon;return c.a.createElement("span",{className:"logo logo-".concat(t)})}),u={desktop:{"/home":"Home","/tv-shows":"Tv Shows","/movies":"Movies","/top":"Top","/my-list":"My List"},mobile:{"/tv-shows":"Tv Shows","/movies":"Movies","/my-list":"My List"}},d=(a(23),["search"]),m=["bell","search","user"],p=function(){var e=Object(o.f)(),t=e.issm,a=e.isxs,i=Object(r.useState)({}),p=Object(n.a)(i,2),f=p[0],E=p[1];return Object(r.useEffect)((function(){E(t||a?u.mobile:u.desktop)}),[t,a]),c.a.createElement("div",{className:"navbar"},c.a.createElement(l.b,{to:"/home"},c.a.createElement(s,{icon:"netflix"})),c.a.createElement("div",{className:"navbar__links"},Object.keys(f).map((function(e){return c.a.createElement(l.b,{key:e,to:e,className:"link"},f[e])}))),c.a.createElement("div",{className:"navbar__options"},(a?d:m).map((function(e,t){return c.a.createElement("button",{key:t,onClick:o.e},c.a.createElement(s,{icon:e}))}))))};function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=a(7);var _,v=a(5);function h(e){return function(e){if(Array.isArray(e))return Object(b.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(v.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.Votes="VOTES",e.Az="A-Z",e.Trending="TRENDING",e.New="NEW"}(_||(_={}));var g={selected:_.Trending,method:function(e){return e}},j=Object(r.createContext)({state:g,dispatch:function(){}}),S=function(e){return h(e).sort((function(e,t){return t.vote_count*t.vote_average-e.vote_count*e.vote_average}))},y=function(e){return h(e).sort((function(e,t){return e.title.localeCompare(t.title)}))},T=function(e){return h(e).sort((function(e,t){return t.popularity-e.popularity}))},P=function(e){return h(e).sort((function(e,t){return t.release_date.localeCompare(e.release_date)}))},N=function(e){var t=e.children,a=Object(r.useReducer)((function(e,t){switch(t.type){case _.Votes:return O(O({},e),{},{selected:_.Votes,method:S});case _.Az:return O(O({},e),{},{selected:_.Az,method:y});case _.Trending:return O(O({},e),{},{selected:_.Trending,method:T});case _.New:return O(O({},e),{},{selected:_.New,method:P});default:throw new Error("Dispatch sort action failed")}}),g),o=Object(n.a)(a,2),i=o[0],l=o[1];return c.a.createElement(j.Provider,{value:{state:i,dispatch:l}},t)},C=function(){return Object(r.useContext)(j)},w=(a(24),function(e){var t=e.details,a=e.play,n=e.more,i=Object(o.f)().isxs,l=C().dispatch,s=Object(r.useCallback)((function(e){return e.target&&l({type:e.target.value})}),[l]);return c.a.createElement("div",{className:"highlight"},i&&c.a.createElement("span",{className:"highlight__text"},"netflix"),t&&t.title&&c.a.createElement("span",{className:"highlight__title"},t.title),!i&&t&&t.overview&&c.a.createElement("span",{className:"highlight__description"},t.overview),c.a.createElement("div",{className:"highlight__actions"},c.a.createElement("div",{className:"highlight__buttons"},c.a.createElement(o.a,{text:"Play",type:"primary",icon:a}),!i&&c.a.createElement(o.a,{text:"More",type:"secondary",icon:n})),c.a.createElement("div",{className:"highlight__dropdown"},c.a.createElement("select",{defaultValue:_.Trending,onChange:s},c.a.createElement("option",{value:_.Trending},_.Trending),c.a.createElement("option",{value:_.Votes},_.Votes),c.a.createElement("option",{value:_.Az},_.Az),c.a.createElement("option",{value:_.New},_.New)))))}),R=new URL("/3/movie/now_playing",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API);R.searchParams.set("api_key",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY),R.searchParams.set("language","en-US");var A,D={mode:"cors",cache:"default",headers:new Headers({Host:"localhost"})};function k(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}!function(e){e.Reveal="REVEAL",e.Hide="HIDE",e.Position="POSITION"}(A||(A={}));var I=Object(r.createContext)({state:{hidden:!0},dispatch:function(){}}),x=function(e){var t=e.children,a=Object(r.useReducer)((function(e,t){switch(t.type){case A.Reveal:return O(O({},e),{},{hidden:!1,data:t.payload});case A.Hide:return O(O({},e),{},{hidden:!0});case A.Position:return O(O({},e),{},{offsetTop:t.payload});default:throw new Error("Dispatch modal action failed")}}),{hidden:!0,offsetTop:0,data:{}}),o=Object(n.a)(a,2),i=o[0],l=o[1];return c.a.createElement(I.Provider,{value:{state:i,dispatch:l}},t)},W=function(){return Object(r.useContext)(I)},K=(a(25),function(e){return"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_IMAGES_RESOURCE).concat(e.backdrop_path)}),L=function(){var e,t,a=W(),i=Object(r.useState)(!1),l=Object(n.a)(i,2),s=l[0],u=l[1],d=Object(o.f)(),m=d.issm,p=d.isxs;return a.state&&c.a.createElement("div",{className:"modal",style:(t=a.state,t.hidden?{display:"none"}:{display:"block",top:t.offsetTop-150})},a.state.data&&c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{alt:"poster",className:"modal__image",src:m||p?(e=a.state.data,"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_IMAGES_RESOURCE).concat(e.poster_path)):K(a.state.data),onLoad:function(){return u(!0)}}),s&&c.a.createElement("div",{className:"modal__details"},c.a.createElement("div",{className:"modal__icon"},c.a.createElement(o.b,{icon:"/assets/play.svg"}),c.a.createElement(o.b,{icon:"/assets/like.svg"}),c.a.createElement(o.b,{icon:"/assets/check.svg"})),c.a.createElement("div",{className:"modal__rates text"},c.a.createElement("div",null,c.a.createElement("span",null,"votes"),c.a.createElement("span",null,a.state.data.vote_count)),c.a.createElement("div",null,c.a.createElement("span",null,"rate"),c.a.createElement("span",null,a.state.data.vote_average)),c.a.createElement("div",null,c.a.createElement("span",null,"popularity"),c.a.createElement("span",null,a.state.data.popularity))),c.a.createElement("div",{className:"modal__title"},c.a.createElement("span",null,a.state.data.title)))))},U=(a(26),["width","lpadding","readable"]),H=Object(r.memo)((function(e){var t=e.width,a=e.lpadding,o=e.readable,i=k(e,U),l=i.backdrop_path?"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_IMAGES_RESOURCE).concat(i.backdrop_path):"/assets/placeholder.png",s=W().dispatch,u=Object(r.useRef)(null),d=Object(r.useState)(""),m=Object(n.a)(d,2),p=m[0],f=m[1],E=Object(r.useCallback)((function(){u.current&&s({type:A.Position,payload:u.current.offsetTop}),s({type:A.Reveal,payload:i})}),[s,u,i]),O=Object(r.useCallback)((function(e){return function(){u.current&&f(e)}}),[u]);return i.backdrop_path&&c.a.createElement("button",{ref:u,onClick:E,onMouseOver:O(i.title),onMouseOut:O(""),style:{padding:0,paddingLeft:a}},c.a.createElement("img",{alt:"poster",className:"details__img",width:t,src:l}),p&&o&&c.a.createElement("span",{className:"details__text",style:{width:t}},p))})),M=(a(27),function(e,t){return{marginLeft:-(t.width+t.lpadding)*(e+1)}}),V=function(e){var t=e.title,a=e.promise,i=Object(r.useState)(-1),l=Object(n.a)(i,2),s=l[0],u=l[1],d=Object(r.useState)([]),m=Object(n.a)(d,2),p=m[0],f=m[1],E=Object(r.useRef)(),O=Object(r.useState)(),b=Object(n.a)(O,2),_=b[0],v=b[1],h=Object(o.f)().isxs,g=C();Object(r.useEffect)((function(){a.then((function(e){E.current=function(){return u((t=e.length,function(e){return(e+1)%(t+1)}));var t},f(g.state.method(e))})).catch((function(){return console.log("Fail to render catalog")}))}),[a,g.state]),Object(r.useEffect)((function(){v(h?{width:90,lpadding:16,readable:!1}:{width:180,lpadding:8,readable:!0})}),[h]);return c.a.createElement("div",{className:"carrossel"},c.a.createElement("span",{className:"carrossel__title"},t),_&&c.a.createElement("div",{className:"carrossel__videos",style:M(s,_)},c.a.createElement(c.a.Fragment,null,p.map((function(e){return c.a.createElement(H,Object.assign({key:e.id},_,e))})),p.map((function(e){return c.a.createElement(H,Object.assign({key:e.id},_,e))}))),E.current&&c.a.createElement("button",{className:"carrossel__button",onClick:E.current},c.a.createElement("img",{alt:"Next",src:"/assets/chevron.svg"}))))},B=(a(28),function(e){var t=e.api,a=e.data,o=Object(r.useRef)(null),i=Object(r.useState)([]),l=Object(n.a)(i,2),s=l[0],u=l[1];return Object(r.useEffect)((function(){var e=new IntersectionObserver((function(e){Object(n.a)(e,1)[0].isIntersecting&&u((function(e){return[].concat(h(e),[""])}))}));return o.current&&e.observe(o.current),function(){return e.disconnect()}}),[]),c.a.createElement("div",{className:"galery"},a.map((function(e,a){return c.a.createElement(V,{promise:t.get({page:a+1}),title:e})})),s.map((function(e,n){return c.a.createElement(V,{promise:t.get({page:a.length+n+1}),title:e})})),c.a.createElement("div",{className:"galery__guard",ref:o},"&"))});a.d(t,"Catalog",(function(){return z})),a.d(t,"default",(function(){return z}));var z=function(){var e={get:function(e){var t=e.page;return R.searchParams.set("page",t||1),new Promise((function(e,t){fetch(R,D).then((function(a){a.ok?a.json().then((function(t){return e(t.results)})):t("Fetching api error")}))}))}},t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],s=a[1];return Object(r.useEffect)((function(){e.get({page:1}).then((function(e){return s(function(e){return e[Math.floor(Math.random()*e.length)]}(e))})).catch((function(e){return console.error(e)}))}),[]),c.a.createElement(r.Suspense,{fallback:c.a.createElement("div",null,"...catalog")},l&&c.a.createElement(i,{image:l.backdrop_path},c.a.createElement(p,null),c.a.createElement(N,null,c.a.createElement(w,{details:l,play:c.a.createElement(o.b,{icon:"./assets/play.svg"}),more:c.a.createElement(o.b,{icon:"./assets/info.svg"})}),c.a.createElement(x,null,c.a.createElement(B,{api:e,data:["Top Movies","Upcoming","Binge Watch"]}),c.a.createElement(L,null)))))}}}]);
//# sourceMappingURL=2.d175df45.chunk.js.map